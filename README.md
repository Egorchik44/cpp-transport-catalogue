# Transport Catalogue

## Описание проекта

**Transport Catalogue** — это высокопроизводительное решение на C++ для работы с информацией о маршрутах общественного транспорта. Программа позволяет обрабатывать данные о маршрутах, остановках и расстояниях между ними, предоставляя удобный интерфейс для получения и отображения информации. Каталог предназначен для работы с большими объёмами данных и обеспечивает оптимальную скорость обработки запросов благодаря эффективной архитектуре.

Основные цели проекта:
- Хранение и управление транспортной информацией.
- Быстрая обработка запросов с использованием алгоритмов C++ STL.
- Визуализация маршрутов и улучшение пользовательского опыта.

---

## Основные функции

### 1. Обработка и хранение данных
- Хранение маршрутов с их остановками и расстояниями.
- Учет кольцевых и прямых маршрутов.
- Учёт различных метрик расстояния (расстояние по карте и время в пути).

### 2. Интерактивная работа
- Обработка запросов в формате JSON:
  - Получение информации о маршрутах (включая количество остановок и общий путь).
  - Получение данных о конкретных остановках (какие маршруты проходят через них).
- Поддержка сложных запросов, таких как минимальный маршрут между остановками.

### 3. Визуализация данных
- Генерация карты маршрутов на основе информации о остановках и дорогах.
- Настраиваемая карта: цвета маршрутов, стили линий, масштабирование и ориентация.

### 4. Производительность
- Использование специализированных структур данных для быстрой обработки запросов.
- Алгоритмы сериализации и десериализации, чтобы минимизировать затраты на повторное вычисление.
- Оптимизация путём работы с большими объёмами данных в памяти.

---

## Технические особенности

### Используемые технологии
- **C++ STL** для работы с данными.
- **JSON** для обмена данными между клиентами и сервером.
- **SVG** для построения картографической визуализации маршрутов.
- **Двусвязные структуры данных** для повышения производительности обработки запросов.
- Сериализация данных для сохранения и загрузки состояния каталога.

### Ключевые компоненты
1. **Transport Catalogue**
   - Основной класс для работы с маршрутами, остановками и расстояниями.
   - Методы добавления данных и выполнения запросов.
2. **JSON Reader**
   - Парсинг запросов и их преобразование в формат, понятный серверу.
3. **Map Renderer**
   - Генерация карт маршрутов с использованием данных остановок.
4. **Router**
   - Расчёт оптимальных маршрутов между остановками, используя графы.
5. **Сериализация данных**
   - Сохранение состояния каталога для последующей загрузки, что значительно ускоряет запуск системы.

---

## Как использовать

### Установка
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/Egorchik44/cpp-transport-catalogue.git
   cd cpp-transport-catalogue
   ```
2. Соберите проект (например, с помощью CMake):
   ```bash
   mkdir build
   cd build
   cmake ..
   make
   ```

### Запуск
Запустите исполняемый файл, чтобы начать работу с каталогом. Вы можете отправлять запросы в формате JSON через консоль или передать файл.

### Пример JSON-запроса
```json
{
  "base_requests": [
    {
      "type": "Stop",
      "name": "Stop A",
      "latitude": 55.611087,
      "longitude": 37.208290,
      "road_distances": { "Stop B": 3200, "Stop C": 1200 }
    },
    {
      "type": "Bus",
      "name": "Route 1",
      "stops": ["Stop A", "Stop B", "Stop C"],
      "is_roundtrip": true
    }
  ],
  "stat_requests": [
    { "id": 1, "type": "Bus", "name": "Route 1" }
  ]
}
```

### Пример ответа
```json
{
  "stat_requests": [
    {
      "request_id": 1,
      "curvature": 1.2,
      "route_length": 3900,
      "stop_count": 3,
      "unique_stop_count": 3
    }
  ]
}
```

---

## Структура проекта

- **transport_catalogue.cpp**: Реализация основных методов работы с транспортными данными.
- **json_reader.cpp**: Обработка входящих JSON-запросов.
- **map_renderer.cpp**: Генерация визуализации транспортной сети.
- **router.cpp**: Построение и поиск маршрутов с минимальными затратами.

---
